{"version":3,"sources":["webpack:///./src/views/Login.vue?002d","webpack:///src/views/Login.vue","webpack:///./src/views/Login.vue?5da6","webpack:///./src/views/Login.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","ref","nameRules","model","value","callback","$$v","username","expression","pwdRules","on","$event","type","indexOf","_k","keyCode","key","login","pwd","staticClass","_v","staticRenderFns","data","watch","methods","validateField","$refs","form","validate","go","console","log","$api","user","test","then","res","component"],"mappings":"uHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,cAAc,CAACA,EAAG,WAAW,CAACE,MAAM,CAAC,iBAAiB,KAAK,CAACF,EAAG,SAAS,CAACE,MAAM,CAAC,KAAO,GAAG,KAAO,GAAG,IAAM,KAAK,CAACF,EAAG,gBAAgB,CAACE,MAAM,CAAC,MAAQ,SAAS,MAAQ,gBAAgB,KAAO,aAAa,CAACF,EAAG,SAAS,CAACG,IAAI,QAAQ,CAACH,EAAG,cAAc,CAACE,MAAM,CAAC,gBAAgB,KAAK,CAACF,EAAG,WAAW,CAACE,MAAM,CAAC,KAAO,GAAG,IAAM,KAAK,CAACF,EAAG,SAAS,CAACE,MAAM,CAAC,IAAM,GAAG,aAAa,KAAK,CAACF,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQN,EAAIQ,UAAU,MAAQ,QAAQ,MAAQ,aAAaC,MAAM,CAACC,MAAOV,EAAY,SAAEW,SAAS,SAAUC,GAAMZ,EAAIa,SAASD,GAAKE,WAAW,eAAe,GAAGV,EAAG,SAAS,CAACE,MAAM,CAAC,IAAM,GAAG,aAAa,KAAK,CAACF,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQN,EAAIe,SAAS,MAAQ,YAAY,MAAQ,OAAO,KAAO,WAAW,UAAY,IAAIC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAIA,EAAOC,KAAKC,QAAQ,QAAQnB,EAAIoB,GAAGH,EAAOI,QAAQ,QAAQ,GAAGJ,EAAOK,IAAI,SAAkB,KAActB,EAAIuB,MAAMN,KAAUR,MAAM,CAACC,MAAOV,EAAO,IAAEW,SAAS,SAAUC,GAAMZ,EAAIwB,IAAIZ,GAAKE,WAAW,UAAU,GAAGV,EAAG,SAAS,CAACE,MAAM,CAAC,IAAM,GAAG,aAAa,KAAK,CAACF,EAAG,cAAc,CAACE,MAAM,CAAC,GAAK,cAAc,CAACF,EAAG,IAAI,CAACqB,YAAY,aAAa,CAACzB,EAAI0B,GAAG,mBAAmB,GAAGtB,EAAG,SAAS,CAACE,MAAM,CAAC,KAAO,GAAG,gBAAgB,KAAK,CAACF,EAAG,QAAQ,CAACqB,YAAY,yBAAyBnB,MAAM,CAAC,MAAQ,aAAaU,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOjB,EAAIuB,WAAW,CAACvB,EAAI0B,GAAG,SAAS,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IACz5CC,EAAkB,GC+DtB,G,UAAA,CACEC,KAAM,WAAR,OACA,YACA,OACA,8CACA,8CAGEC,MAAO,CACLhB,SAAU,gBACVW,IAAK,iBAGPM,QAAS,CACPC,cADJ,WAEM9B,KAAK+B,MAAMC,KAAKC,YAGlBC,GALJ,WAMUlC,KAAK+B,MAAMC,KAAKC,aAClBE,QAAQC,IAAI,QACZpC,KAAKqC,KAAKC,KAAKC,OAAOC,MAAK,SAAnC,GACUL,QAAQC,IAAIK,QAKlBnB,MAdJ,WAcA,WACUtB,KAAK+B,MAAMC,KAAKC,YAClBjC,KAAKqC,KAAKC,KAClB,OACU,SAAV,cACU,SAAV,WAEA,kBAEU,OADA,QAAV,OACA,eACY,IAAZ,MACc,EAAd,gDACc,EAAd,yCACc,EAAd,UACgB,KAAhB,UACgB,QAAhB,SAGc,SAAd,SACc,EAAd,iBACgB,KAAhB,WAEc,MACF,QACE,EAAd,mCAGA,mBACU,QAAV,cCvH+U,I,YCO3UI,EAAY,eACd,EACA5C,EACA4B,GACA,EACA,KACA,KACA,MAIa,aAAAgB,E","file":"js/chunk-2d2086b7.1849fa23.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[_c('v-layout',{attrs:{\"justify-center\":\"\"}},[_c('v-flex',{attrs:{\"xs12\":\"\",\"sm10\":\"\",\"md8\":\"\"}},[_c('material-card',{attrs:{\"color\":\"myinfo\",\"title\":\"登录 PixelStack\",\"text\":\"使用用户名来登录\"}},[_c('v-form',{ref:\"form\"},[_c('v-container',{attrs:{\"justify-start\":\"\"}},[_c('v-layout',{attrs:{\"wrap\":\"\",\"row\":\"\"}},[_c('v-flex',{attrs:{\"md6\":\"\",\"offset-md1\":\"\"}},[_c('v-text-field',{attrs:{\"rules\":_vm.nameRules,\"label\":\"输入用户名\",\"color\":\"myprimary\"},model:{value:(_vm.username),callback:function ($$v) {_vm.username=$$v},expression:\"username\"}})],1),_c('v-flex',{attrs:{\"md6\":\"\",\"offset-md1\":\"\"}},[_c('v-text-field',{attrs:{\"rules\":_vm.pwdRules,\"color\":\"myprimary\",\"label\":\"输入密码\",\"type\":\"password\",\"clearable\":\"\"},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.login($event)}},model:{value:(_vm.pwd),callback:function ($$v) {_vm.pwd=$$v},expression:\"pwd\"}})],1),_c('v-flex',{attrs:{\"md6\":\"\",\"offset-md6\":\"\"}},[_c('router-link',{attrs:{\"to\":\"/register\"}},[_c('p',{staticClass:\"text-info\"},[_vm._v(\"还没有账户？点击注册\")])])],1),_c('v-flex',{attrs:{\"xs12\":\"\",\"text-xs-right\":\"\"}},[_c('v-btn',{staticClass:\"mx-0 font-weight-light\",attrs:{\"color\":\"myprimary\"},on:{\"click\":function($event){return _vm.login()}}},[_vm._v(\"登录\")])],1)],1)],1)],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-container>\n    <v-layout justify-center>\n      <v-flex\n        xs12\n        sm10\n        md8>\n        <material-card\n          color=\"myinfo\"\n          title=\"登录 PixelStack\"\n          text=\"使用用户名来登录\">\n          <v-form ref=\"form\">\n            <v-container justify-start>\n              <v-layout\n                wrap\n                row>\n                <v-flex\n                  md6\n                  offset-md1>\n                  <v-text-field\n                    v-model=\"username\"\n                    :rules=\"nameRules\"\n                    label=\"输入用户名\"\n                    color=\"myprimary\"\n                  />\n                </v-flex>\n                <v-flex\n                  md6\n                  offset-md1>\n                  <v-text-field\n                    v-model=\"pwd\"\n                    :rules=\"pwdRules\"\n                    color=\"myprimary\"\n                    label=\"输入密码\"\n                    type=\"password\"\n                    clearable\n                    @keyup.enter=\"login\"\n                  />\n                </v-flex>\n                <v-flex\n                  md6\n                  offset-md6>\n                  <router-link to=\"/register\">\n                    <p class=\"text-info\">还没有账户？点击注册</p>\n                  </router-link>\n                </v-flex>\n                <v-flex\n                  xs12\n                  text-xs-right>\n                  <v-btn\n                    class=\"mx-0 font-weight-light\"\n                    color=\"myprimary\"\n                    @click=\"login()\">登录</v-btn>\n                </v-flex>\n              </v-layout>\n            </v-container>\n          </v-form>\n        </material-card>\n      </v-flex>\n    </v-layout>\n  </v-container>\n</template>\n\n<script>\nexport default {\n  data: () => ({\n    username: '',\n    pwd: '',\n    nameRules: [v => !!v || '用户名不能为空'],\n    pwdRules: [v => !!v || '密码不能为空']\n  }),\n\n  watch: {\n    username: 'validateField',\n    pwd: 'validateField'\n  },\n\n  methods: {\n    validateField () {\n      this.$refs.form.validate()\n    },\n    // click listener add by keith\n    go () {\n      if (this.$refs.form.validate()) {\n        console.log('yyyy')\n        this.$api.user.test().then(res => {\n          console.log(res)\n        })\n      }\n    },\n\n    login () {\n      if (this.$refs.form.validate()) {\n        this.$api.user\n          .login({\n            username: this.username,\n            password: this.pwd\n          })\n          .then(res => {\n            console.log(res)\n            switch (res.data.status) {\n              case '200':\n                this.$store.commit('setToken', res.data.userInfo.token)\n                this.$store.commit('setUser', res.data.userInfo)\n                this.$message({\n                  type: 'success',\n                  message: '登录成功'\n                })\n                // 重新渲染侧边栏\n                location.reload()\n                this.$router.replace({\n                  path: '/pixel'\n                })\n                break\n              default:\n                this.$message.error(res.data.message)\n            }\n          })\n          .catch(err => {\n            console.log(err)\n          })\n      }\n    }\n  }\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=ac417e20&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}