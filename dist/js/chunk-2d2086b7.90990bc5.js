(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d2086b7"],{a55b:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-container",[s("v-layout",{attrs:{"justify-center":""}},[s("v-flex",{attrs:{xs12:"",sm10:"",md8:""}},[s("material-card",{attrs:{color:"myinfo",title:"登录 PixelStack",text:"使用用户名来登录"}},[s("v-form",{ref:"form"},[s("v-container",{attrs:{"justify-start":""}},[s("v-layout",{attrs:{wrap:"",row:""}},[s("v-flex",{attrs:{md6:"","offset-md1":""}},[s("v-text-field",{attrs:{label:"输入用户名",color:"myprimary",rules:e.nameRules},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}})],1),s("v-flex",{attrs:{md6:"","offset-md1":""}},[s("v-text-field",{attrs:{color:"myprimary",label:"输入密码",type:"password",rules:e.pwdRules,clearable:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.login(t)}},model:{value:e.pwd,callback:function(t){e.pwd=t},expression:"pwd"}})],1),s("v-flex",{attrs:{md6:"","offset-md6":""}},[s("router-link",{attrs:{to:"/register"}},[s("p",{staticClass:"text-info"},[e._v("还没有账户？点击注册")])])],1),s("v-flex",{attrs:{xs12:"","text-xs-right":""}},[s("v-btn",{staticClass:"mx-0 font-weight-light",attrs:{color:"myprimary"},on:{click:function(t){return e.login()}}},[e._v("登录")])],1)],1)],1)],1)],1)],1)],1)],1)},r=[],n=(s("f91a"),{data:function(){return{username:"",pwd:"",nameRules:[function(e){return!!e||"用户名不能为空"}],pwdRules:[function(e){return!!e||"密码不能为空"}]}},watch:{username:"validateField",pwd:"validateField"},methods:{validateField:function(){this.$refs.form.validate()},go:function(){this.$refs.form.validate()&&(console.log("yyyy"),this.$api.user.test().then(function(e){console.log(e)}))},login:function(){var e=this;this.$refs.form.validate()&&this.$api.user.login({username:this.username,password:this.pwd}).then(function(t){switch(console.log(t),t.data.status){case"200":e.$store.commit("setToken",t.data.userInfo.token),e.$store.commit("setUser",t.data.userInfo),e.$message({type:"success",message:"登录成功"}),location.reload(),e.$router.replace({path:"/pixel"});break;default:e.$message.error(t.data.message)}}).catch(function(e){console.log(e)})}}}),o=n,l=s("8c9c"),i=Object(l["a"])(o,a,r,!1,null,null,null);t["default"]=i.exports}}]);
//# sourceMappingURL=chunk-2d2086b7.90990bc5.js.map