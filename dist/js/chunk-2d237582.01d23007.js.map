{"version":3,"sources":["webpack:///./src/views/EditProfile.vue?888f","webpack:///src/views/EditProfile.vue","webpack:///./src/views/EditProfile.vue?cc8f","webpack:///./src/views/EditProfile.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","fill-height","fluid","grid-list-xl","justify-center","wrap","xs12","md8","color","title","text","ref","py-0","md4","staticClass","label","model","value","callback","$$v","newName","expression","newEmail","md6","type","hint","newPwd","rules","match","clearable","about","text-xs-right","on","click","$event","commit","_v","slot","size","src","staticRenderFns","EditProfilevue_type_script_lang_js_","data","created","_this","$api","user","getInfo","uid","window","localStorage","then","res","info","userInfo","username","email","introduction","catch","err","computed","_this2","rule","v","push","watch","methods","validateField","$refs","form","validate","_this3","edit","password","console","log","status","$message","message","$router","replace","removeItem","path","query","redirect","error","views_EditProfilevue_type_script_lang_js_","component","Object","componentNormalizer","__webpack_exports__"],"mappings":"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","file":"js/chunk-2d237582.01d23007.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{attrs:{\"fill-height\":\"\",\"fluid\":\"\",\"grid-list-xl\":\"\"}},[_c('v-layout',{attrs:{\"justify-center\":\"\",\"wrap\":\"\"}},[_c('v-flex',{attrs:{\"xs12\":\"\",\"md8\":\"\"}},[_c('material-card',{attrs:{\"color\":\"green\",\"title\":\"Edit Profile\",\"text\":\"Complete your profile\"}},[_c('v-form',{ref:\"form\"},[_c('v-container',{attrs:{\"py-0\":\"\"}},[_c('v-layout',{attrs:{\"wrap\":\"\"}},[_c('v-flex',{attrs:{\"xs12\":\"\",\"md4\":\"\"}},[_c('v-text-field',{staticClass:\"purple-input\",attrs:{\"label\":\"User Name\"},model:{value:(_vm.newName),callback:function ($$v) {_vm.newName=$$v},expression:\"newName\"}})],1),_c('v-flex',{attrs:{\"xs12\":\"\",\"md8\":\"\"}},[_c('v-text-field',{staticClass:\"purple-input\",attrs:{\"label\":\"Email Address\"},model:{value:(_vm.newEmail),callback:function ($$v) {_vm.newEmail=$$v},expression:\"newEmail\"}})],1),_c('v-flex',{attrs:{\"xs12\":\"\",\"md6\":\"\"}},[_c('v-text-field',{staticClass:\"purple-input\",attrs:{\"label\":\"New Password\",\"type\":\"password\",\"hint\":\"修改密码需要重新登录哦\"},model:{value:(_vm.newPwd),callback:function ($$v) {_vm.newPwd=$$v},expression:\"newPwd\"}})],1),_c('v-flex',{attrs:{\"xs12\":\"\",\"md6\":\"\"}},[_c('v-text-field',{staticClass:\"purple-input\",attrs:{\"label\":\"Repeat Password\",\"type\":\"password\",\"rules\":_vm.rules},model:{value:(_vm.match),callback:function ($$v) {_vm.match=$$v},expression:\"match\"}})],1),_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('v-textarea',{staticClass:\"purple-input\",attrs:{\"label\":\"About Me\",\"value\":\"Lorem ipsum dolor sit amet, consectetur adipiscing elit.\",\"clearable\":\"\",\"hint\":\"向大家介绍一下自己吧\"},model:{value:(_vm.about),callback:function ($$v) {_vm.about=$$v},expression:\"about\"}})],1),_c('v-flex',{attrs:{\"xs12\":\"\",\"text-xs-right\":\"\"}},[_c('v-btn',{staticClass:\"mx-0 font-weight-light\",attrs:{\"color\":\"success\"},on:{\"click\":function($event){return _vm.commit()}}},[_vm._v(\"Update Profile\")])],1)],1)],1)],1)],1)],1),_c('v-flex',{attrs:{\"xs12\":\"\",\"md4\":\"\"}},[_c('material-card',{staticClass:\"v-card-profile\"},[_c('v-avatar',{staticClass:\"mx-auto d-block\",attrs:{\"slot\":\"offset\",\"size\":\"130\"},slot:\"offset\"},[_c('img',{attrs:{\"src\":\"https://demos.creative-tim.com/vue-material-dashboard/img/marc.aba54d65.jpg\"}})]),_c('v-card-text',{staticClass:\"text-xs-center\"},[_c('h6',{staticClass:\"category text-gray font-weight-thin mb-3\"},[_vm._v(\"CEO / CO-FOUNDER\")]),_c('h4',{staticClass:\"card-title font-weight-light\"},[_vm._v(\"Alec Thompson\")]),_c('p',{staticClass:\"card-description font-weight-light\"},[_vm._v(\"Don't be scared of the truth because we need to restart the human foundation in truth And I love you like Kanye loves Kanye I love Rick Owens’ bed design but the back is...\")])])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-container fill-height fluid grid-list-xl>\n    <v-layout justify-center wrap>\n      <v-flex xs12 md8>\n        <material-card color=\"green\" title=\"Edit Profile\" text=\"Complete your profile\">\n          <v-form ref=\"form\">\n            <v-container py-0>\n              <v-layout wrap>\n                <v-flex xs12 md4>\n                  <v-text-field class=\"purple-input\" label=\"User Name\" v-model=\"newName\"/>\n                </v-flex>\n                <v-flex xs12 md8>\n                  <v-text-field label=\"Email Address\" class=\"purple-input\" v-model=\"newEmail\"/>\n                </v-flex>\n                <v-flex xs12 md6>\n                  <v-text-field\n                    label=\"New Password\"\n                    class=\"purple-input\"\n                    type=\"password\"\n                    hint=\"修改密码需要重新登录哦\"\n                    v-model=\"newPwd\"\n                  />\n                </v-flex>\n                <v-flex xs12 md6>\n                  <v-text-field\n                    label=\"Repeat Password\"\n                    class=\"purple-input\"\n                    type=\"password\"\n                    v-model=\"match\"\n                    :rules=\"rules\"\n                  />\n                </v-flex>\n                <v-flex xs12>\n                  <v-textarea\n                    class=\"purple-input\"\n                    label=\"About Me\"\n                    value=\"Lorem ipsum dolor sit amet, consectetur adipiscing elit.\"\n                    clearable\n                    hint=\"向大家介绍一下自己吧\"\n                    v-model=\"about\"\n                  />\n                </v-flex>\n                <v-flex xs12 text-xs-right>\n                  <v-btn\n                    class=\"mx-0 font-weight-light\"\n                    color=\"success\"\n                    @click=\"commit()\"\n                  >Update Profile</v-btn>\n                </v-flex>\n              </v-layout>\n            </v-container>\n          </v-form>\n        </material-card>\n      </v-flex>\n      <v-flex xs12 md4>\n        <material-card class=\"v-card-profile\">\n          <v-avatar slot=\"offset\" class=\"mx-auto d-block\" size=\"130\">\n            <img src=\"https://demos.creative-tim.com/vue-material-dashboard/img/marc.aba54d65.jpg\">\n          </v-avatar>\n          <v-card-text class=\"text-xs-center\">\n            <h6 class=\"category text-gray font-weight-thin mb-3\">CEO / CO-FOUNDER</h6>\n            <h4 class=\"card-title font-weight-light\">Alec Thompson</h4>\n            <p\n              class=\"card-description font-weight-light\"\n            >Don't be scared of the truth because we need to restart the human foundation in truth And I love you like Kanye loves Kanye I love Rick Owens’ bed design but the back is...</p>\n          </v-card-text>\n        </material-card>\n      </v-flex>\n    </v-layout>\n  </v-container>\n</template>\n\n<script>\nexport default {\n  // create by keith\n  data: () => ({\n    newName: \"\",\n    newEmail: \"\",\n    newPwd: \"\",\n    match: \"\",\n    about: \"\"\n  }),\n\n  created: function() {\n    this.$api.user\n      .getInfo({\n        uid: window.localStorage.uid\n      })\n      .then(res => {\n        var info = res.data.userInfo;\n        this.newName = info.username;\n        this.newEmail = info.email;\n        this.about = info.introduction;\n      })\n      .catch(err => {});\n  },\n\n  computed: {\n    rules() {\n      const rules = [];\n      if (this.newPwd) {\n        const rule = v => (!!v && v) === this.newPwd || \"两次密码输入不一致\";\n        rules.push(rule);\n      }\n      return rules;\n    }\n  },\n\n  watch: {\n    match: \"validateField\"\n  },\n  methods: {\n    validateField() {\n      this.$refs.form.validate();\n    },\n\n    commit() {\n      if (this.$refs.form.validate()) {\n        this.$api.user\n          .edit({\n            username: this.newName,\n            email: this.newEmail,\n            password: this.newPwd,\n            introduction: this.about,\n            uid: window.localStorage.uid\n          })\n          .then(res => {\n            console.log(res);\n            switch (res.data.status) {\n              case \"200\":\n                this.$message({\n                  message: \"信息修改成功！\",\n                  type: \"success\"\n                });\n                this.$router.replace(\"/user-profile\");\n                break;\n              case \"201\":\n                this.$message({\n                  message: \"信息修改成功！需要重新登录\",\n                  type: \"success\"\n                });\n                // remove old user info and token\n                localStorage.removeItem(\"token\");\n                localStorage.removeItem(\"uid\");\n                localStorage.removeItem(\"authority\");\n                this.$router.replace({\n                  path: \"/login\",\n                  query: {\n                    redirect: \"/user-profile\"\n                  }\n                });\n                break;\n              default:\n                this.$message.error(res.data.message);\n            }\n          })\n          .catch(err => {});\n      }\n    }\n  }\n};\n</script>\n","import mod from \"-!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.2@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.0.5@babel-loader/lib/index.js!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.6.4@vue-loader/lib/index.js??vue-loader-options!./EditProfile.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.2@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.0.5@babel-loader/lib/index.js!../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.6.4@vue-loader/lib/index.js??vue-loader-options!./EditProfile.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EditProfile.vue?vue&type=template&id=1798d21d&\"\nimport script from \"./EditProfile.vue?vue&type=script&lang=js&\"\nexport * from \"./EditProfile.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/_vue-loader@15.6.4@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}