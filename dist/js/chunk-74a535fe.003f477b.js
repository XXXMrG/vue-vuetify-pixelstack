(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-74a535fe"],{"4a39":function(t,a,i){"use strict";i.r(a);var s=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("v-container",{attrs:{"fill-height":"",fluid:"","grid-list-xl":""}},[i("v-layout",{attrs:{"justify-center":"",wrap:""}},[i("v-flex",{attrs:{xs12:"",md8:""}},[i("material-card",{attrs:{color:"myinfo",title:t.title,text:t.subtitle}},[i("v-layout",{attrs:{row:"",wrap:""}},t._l(t.pixels.slice(1),function(t,a){return i("v-flex",{key:a,attrs:{md4:""}},[i("material-my-card",{attrs:{pixel:t}})],1)}),1)],1)],1),i("v-flex",{attrs:{xs12:"",md4:""}},[i("material-card",{staticClass:"v-card-profile"},[i("v-avatar",{staticClass:"mx-auto d-block",attrs:{slot:"offset",size:"130"},slot:"offset"},[i("img",{attrs:{src:"https://demos.creative-tim.com/vue-material-dashboard/img/marc.aba54d65.jpg"}})]),i("v-spacer"),i("v-card-text",{staticClass:"text-xs-center"},[i("h6",{staticClass:"category text-gray font-weight-thin mb-3"},[t._v(t._s(t.email))]),i("h4",{staticClass:"card-title font-weight-light"},[t._v(t._s(t.username))]),i("p",{staticClass:"card-description font-weight-light"},[t._v(t._s(t.about))]),i("v-card-text",{staticClass:"body-2"},[i("router-link",{attrs:{to:t.followPath}},[i("span",{attrs:{color:"lightinfo"}},[t._v("Follow: "+t._s(t.follow))])]),i("el-button",{staticClass:"items",attrs:{type:"text"},on:{click:t.goStar}},[i("span",{attrs:{color:"lightinfo"}},[t._v("Star: "+t._s(t.star))])]),i("router-link",{staticClass:"items",attrs:{to:t.fansPath}},[i("span",{attrs:{color:"lightinfo"}},[t._v("Fans: "+t._s(t.fans))])])],1),t.isOwner?i("v-btn",{staticClass:"font-weight-light",attrs:{color:"darkinfo",round:"",to:"/edit-profile"}},[t._v("Edit profile")]):[t.isFollow?i("v-btn",{staticClass:"font-weight-light",attrs:{color:"darkinfo",round:""},on:{click:t.goFollow}},[t._v("Unfollowed")]):i("v-btn",{staticClass:"font-weight-light",attrs:{color:"darkinfo",round:""},on:{click:t.goFollow}},[t._v("Follow")])]],2)],1)],1)],1)],1)},o=[],r=(i("f91a"),i("bdf4")),e=i.n(r),l={data:function(){return{username:"",email:"",about:"",follow:0,star:0,fans:0,pixels:[{}],isOwner:!1,followPath:"",fansPath:"",starPath:"",isFollow:!1,title:"",subtitle:""}},created:function(){this.followPath="/user/"+this.$route.params.id+"/type/follow",this.fansPath="/user/"+this.$route.params.id+"/type/fans",this.isOwner=this.$route.params.id===window.localStorage.uid,this.starPath="/user-profile/"+this.$route.params.id+"/type/star",this.getTitle(),this.getData(),this.getPic()},watch:{followPath:"getData"},methods:{getTitle:function(){switch(this.$route.params.type){case"info":this.title="作品列表",this.subtitle="在这里查看并管理您的作品";break;case"star":this.title="收藏列表",this.subtitle="在这里查看并管理您收藏的作品";break}},getData:function(){var t=this;this.$api.user.getInfo({uid:this.$route.params.id}).then(function(a){console.log(a);var i=a.data.userInfo;t.username=i.username,t.email=i.email,t.about=i.introduction,t.follow=i.follow,t.star=i.star,t.fans=i.fans,t.judge()}).catch(function(t){})},getPic:function(){var t=this;switch(this.$route.params.type){case"info":this.$api.image.getImageListByUid({uid:this.$route.params.id}).then(function(a){var i=!0,s=!1,o=void 0;try{for(var r,l=e()(a.data.imageList);!(i=(r=l.next()).done);i=!0){var n=r.value,c={smallUrl:t.$api.root.getOriginalUrl(n.url),pid:n.iid,views:n.count,stars:n.star,likes:n.thumb};t.pixels.push(c)}}catch(u){s=!0,o=u}finally{try{i||null==l.return||l.return()}finally{if(s)throw o}}}).catch(function(t){});break;case"star":this.$api.image.myStars({uid:this.$route.params.id}).then(function(a){var i=!0,s=!1,o=void 0;try{for(var r,l=e()(a.data.starList);!(i=(r=l.next()).done);i=!0){var n=r.value,c={smallUrl:t.$api.root.getOriginalUrl(n.url),pid:n.iid,views:n.count,stars:n.star,likes:n.thumb};t.pixels.push(c)}}catch(u){s=!0,o=u}finally{try{i||null==l.return||l.return()}finally{if(s)throw o}}}).catch(function(t){});break}},goFollow:function(){var t=this;this.$api.user.goFollow({isFollow:!this.isFollow,uid:window.localStorage.uid,fid:this.$route.params.id}).then(function(a){console.log(a),t.getData()}).catch(function(t){})},goStar:function(){this.$router.replace(this.starPath),this.getTitle(),this.pixels=[],this.getPic()},judge:function(){var t=this;this.$api.user.followRelate({uid:window.localStorage.uid,fid:this.$route.params.id}).then(function(a){console.log(a),t.isFollow=a.data.isFollow}).catch(function(t){})}}},n=l,c=(i("79cc"),i("8c9c")),u=Object(c["a"])(n,s,o,!1,null,null,null);a["default"]=u.exports},"614f":function(t,a,i){},"79cc":function(t,a,i){"use strict";var s=i("614f"),o=i.n(s);o.a}}]);
//# sourceMappingURL=chunk-74a535fe.003f477b.js.map